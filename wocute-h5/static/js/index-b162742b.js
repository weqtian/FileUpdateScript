import{d as e,e as t,aA as a,o as s,k as l,ai as n,aj as i,a8 as o,al as c,_ as u,ap as d,G as m,p as r,S as p,ah as v,q as f,aW as b,aX as h,aT as g,av as y,aY as k,ab as C,g as x,ak as S,am as _,u as q,v as I,a6 as T,ao as N,aZ as A,a_ as R}from "./index-ee55951f.js";import{N as U}from "./index-dfd66168.js";import{M as j,l as V}from "./LangPlug-4fa84100.js";import"./resources-6ac23f61.js";import{F as M,f as B,h as P,l as E}from "./lang-2101bfb9.js";import{f as L}from "./Time-d7827038.js";import{I as w}from "./index-456f307c.js";import{M as D,U as G,C as W}from "./clean-btn-0307741c.js";const O=u(e({__name:"index",props:{count:{type:Number,required:!1,default:5},size:{type:Number,required:!1,default:34},marginLeft:{type:Number,required:!1,default:12},defaultIcon:{type:String,required:!1,default:"/static/png/default-stars-515f2ef6.png"},selectIcon:{type:String,required:!1,default:"/static/png/bright-stars-aabfcffa.png"},modelValue:{type:Number,required:!1,default:0},boxWidth:{type:Number,required:!1,default:220}},emits:["update:modelValue"],setup(e, {emit:u}){const d=e,m=t((()=>`width: ${a(d.boxWidth)}`)),r=t((()=>`width: ${a(d.size)}; height: ${a(d.size)}`)),p=t((()=> e=>e?d.selectIcon:d.defaultIcon)),v={selectStart(e){1===d.modelValue&&1===e?u("update:modelValue",0):u("update:modelValue",e)}};return(e, t)=>{const a=w;return s(),l("div",{style:o(m.value),class:"stars"},[(s(!0),l(n,null,i(e.count,(e=>(s(),c(a,{key:e,class:"stars-icon",src:p.value(e<=d.modelValue),style:o(r.value),onClick: t=>v.selectStart(e)},null,8,["src","style","onClick"])))),128))],4)}}}),[["__scopeId","data-v-08f32269"],["__file","/Users/xiaobo/Desktop/wocute/h5-client-cache/source/src/components/Stars/index.vue"]]),Y={class:"feedback-details"},$={class:"container"},z={class:"card-item"},F={class:"top-tips"},H={class:"tips-text"},K={class:"text"},Q={key:0,class:"time"},X={class:"description-content"},Z={key:0,class:"content-img"},J={class:"top-tips"},ee={class:"tips-text"},te={class:"text"},ae={key:0,class:"time"},se=["innerHTML"],le={key:0,class:"card-item assessment-card"},ne={class:"top-tips"},ie={class:"tips-text"},oe={class:"text"},ce={class:"description-content"},ue={class:"help-btn-box"},de={class:"description-content"},me={class:"rate-box"},re={key:0,class:"icon-box"},pe=u(e({__name:"index",setup(e){const a=V(E),u=d(),{id:pe}=u.query,ve=m({BACKGROUND_IMAGE:t((()=> e=>`background-image: url(${e})`)),MUSIC:t((()=>D)),USER:t((()=>G)),CLEAN_BTN:t((()=>W))}),fe=r([]);let be=r(!1);const he=r({question:{appId:"",attaches:"",content:"",createTime:null,id:"",languageCode:"",replyState:0},comment:{solvedState:void 0,satisfyRate:0,commentContent:""},replies:[]}),ge=t((()=>!(he.value.comment.satisfyRate||void 0!==he.value.comment.solvedState||he.value.comment.commentContent))),ye={handleSelectBtn(e){const t=u.query.id;M(1===e?5:6,{id:t}),he.value.comment.solvedState=e},handleAppInput(){b({content:he.value.comment.commentContent}).then((e=>{he.value.comment.commentContent=e}))},getContent(){B(pe).then((e=>{const{question:t,replies:a,comment:s}=e.data||{};h(),he.value.question=t,he.value.replies=a,s&&(he.value.comment=s),a&&!s&&(be.value=!0),fe.value=t.attaches&&t.attaches.split(",")||[]}))},submitted(){ge.value||P({id:pe,feedbackQuestionId:he.value.question.id,...he.value.comment}).then((()=>{be.value=!1,g(a("thanksForYourRating"))}))},buriedPointPush(){y.isOnePage()&&k().then((e=>{M(e.source)}))}};return p((()=>{ye.getContent(),ye.buriedPointPush()})),(e, t)=>{const u=w,d=v("direction-rtl"),m=v("ar-class");return s(),c(j,null,{default:f((()=>[C((s(),l("div",Y,[x(U,{background:"#f7f7f7","jump-type":"vue"}),S("div",$,[S("div",z,[S("div",F,[S("div",H,[x(u,{class:"icon",src:ve.USER},null,8,["src"]),S("span",K,_(q(a)("problemDescription")),1)]),he.value.question.createTime?(s(),l("div",Q,_(q(L)(he.value.question.createTime)),1)):I("v-if",!0)]),S("div",X,_(he.value.question.content),1),fe.value.length?(s(),l("div",Z,[(s(!0),l(n,null,i(fe.value,((e, t)=>(s(),l("div",{key:t,style:o(ve.BACKGROUND_IMAGE(e)),class:"bg-img item"},null,4)))),128))])):I("v-if",!0)]),(s(!0),l(n,null,i(he.value.replies,((e, t)=>(s(),l("div",{key:t,class:"card-item"},[S("div",J,[S("div",ee,[x(u,{class:"icon",src:ve.MUSIC},null,8,["src"]),S("span",te,_(q(a)("wocuteHelper")),1)]),e.createTime?(s(),l("div",ae,_(q(L)(e.createTime)),1)):I("v-if",!0)]),S("div",{class:"description-content",innerHTML:e.content},null,8,se)])))),128)),x(R,{name:"assessment-card",mode:"out-in"},{default:f((()=>[q(be)?(s(),l("div",le,[S("div",ne,[S("div",ie,[S("span",oe,_(q(a)("pleaseRateOurService")),1)])]),S("p",ce,_(q(a)("haveYourProblemSolved")),1),S("div",ue,[S("div",{class:T(["item",{"select-item":1===he.value.comment.solvedState}]),onClick:t[0]||(t[0]= e=>ye.handleSelectBtn(1))},_(q(a)("yes")),3),S("div",{class:T(["item",{"select-item":0===he.value.comment.solvedState}]),onClick:t[1]||(t[1]= e=>ye.handleSelectBtn(0))},_(q(a)("no")),3)]),S("p",de,_(q(a)("areYouSatisfyWithTheReply")),1),S("div",me,[x(O,{modelValue:he.value.comment.satisfyRate,"onUpdate:modelValue":t[2]||(t[2]= e=>he.value.comment.satisfyRate=e)},null,8,["modelValue"])]),S("div",{class:T(["input-proposal",{"input-proposal-text":he.value.comment.commentContent}]),onClick:t[4]||(t[4]=(...e)=>ye.handleAppInput&&ye.handleAppInput(...e))},[N(_(he.value.comment.commentContent||q(a)("tellUsWhatToSuggest"))+" ",1),he.value.comment.commentContent?(s(),l("div",re,[x(u,{onClick:t[3]||(t[3]=A((e=>he.value.comment.commentContent=""),["stop"])),class:"icon",src:ve.CLEAN_BTN},null,8,["src"])])):I("v-if",!0)],2),S("div",{class:T(["submitted-btn",{"submitted-btn-disable":ge.value}]),onClick:t[5]||(t[5]=(...e)=>ye.submitted&&ye.submitted(...e))},_(q(a)("submit")),3)])):I("v-if",!0)])),_:1})])])),[[d],[m,void 0,"feedback-details-ar"]])])),_:1})}}}),[["__scopeId","data-v-25ea10ec"],["__file","/Users/xiaobo/Desktop/wocute/h5-client-cache/source/src/pages/app/article/explain/FAQ/pages/feedback-details/index.vue"]]);export{pe as default};
